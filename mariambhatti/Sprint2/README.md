
# Project Title

An AWS CDK Application : WEB Health monitoring Project 

## **Table of Contents:**

* ### [Overview](#overview-1)
* ### [Project execution and Deployment](#project-execution-and-deployment-1)
* ### [Results of the Project](#Results-of-the-project-1)
* ## [Useful Commands](#Useful-commands-1)
* ## [References](#References-1)
* ## [AWS services used in this Project](#AWS-services-used-in-the-project-1)



### Overview

This project is developed with the aim of monitoring the Availability and latency Metrics of certain websites
and publish those metrics on Cloudwatch, wherein the Cloudwatch is integrated with SNS; in case of breach of thersold of Avalabiliti
and latency threshold , Alarms are generated by cloudwatch and an email notification is send to the admin/user of the account because of subscription with an SNS topic
MessageID and timestamp is then extracted form the SNS notification and written to a dynamoDB table

Their are two types of metrics:

1) Availability Metric: This metric tells the availability status of a website be returning a HTTP 200 OK Code when a GET Request is sent, indicating that the site is up and running.

2) Latency Metric: This metric calculates the amount of delay on a network. Low latency or High latency depends upon the performance of that specific website.

The Availability and Latency Metrics are triggered by a Lmbda Function, which we have converted into a Cron Job by defining event rule, which will invoke Lambda after every hour. This Lambda will then check the values of Availability and Latency. Against these 2 metrices, i have defined threshold i.e 0.33 for Latency and 1 for Availability. If any of these threshold is breached, An alarm will be triggered in CloudWatch. Once alarm is generated, i have used AWS SNS Service to send a detailed notification on subscriber's Email, also this SNS will trigger a Lambda Funtion which will then insert the alarm information in DynamoDB Table.


## Project execution and Deployment

### Environemnt Setup

To Setup environment of the project:
I used VS Code to write in CDK

```bash
sudo apt udate  >> To update python
sudo apt install python3 python-zip >> To install python
pyhton3 --version >> To check python version
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -0 "awscliv2.zip"
sudo apt install unzip >> To install aws package
unzip awscliv2.zip >> To unzip install package
sudo ./aws/install >> To install aws
aws-version >> To check aws version
```

when the project Setup is complete , we will run the following commands to clone the project
in local AWS environment

```bash
git clone "url-to-github-repo" >> To clone the forked repo
python3 -m venv .venv && source .venv/bin/activate >> To setup virtual environment
pip install -r requirements.aws.txt >> To install requirements
```
### Project Deployment
After the completion of project , the following commands are used in the remote terminal
to deploy the project

```bash
cdk synth
aws configure
cdk deploy
```


## Results of the Project 

### Cloutdwat Alarms

![Cloudwatch Alarms](https://user-images.githubusercontent.com/108882924/202974692-a1b53dc0-6400-4dbc-982c-5c1a4c6bd169.png)
![Latency state](https://user-images.githubusercontent.com/108882924/202976587-3fe0a130-643a-4958-beba-257e38a40bfb.png)
![Alarms history](https://user-images.githubusercontent.com/108882924/202976633-252d8fd2-8a8f-4091-8054-a01936be12a3.png)

### SNS Topic Subscription
![SNS Topic](https://user-images.githubusercontent.com/108882924/202976905-74a83811-9774-4f7a-bee5-54c025d65f16.png)
![SNS email notification](https://user-images.githubusercontent.com/108882924/202977190-4a9bc0f4-2388-4043-9514-c60813af9eb6.png)

### Dynamot TB table
![Dynamo Db](https://user-images.githubusercontent.com/108882924/202977498-26e87604-6691-471d-a1d7-8b9d7393c00f.png)

> ## Useful Commands
<br />
Below list contains some of the most handy commands that were used freuently during this project:
```
CDK DOC >> Opens cdk documentation
CDK DIFF >> Compare deployed stack with current stack
CDK LS >> List all stacks in the app
CDK DEPLOY >> Deploy the stack on the Cloud
CDK SYNTH >> Emits the synthesized CloudFormation template
```
<br />

> ## References
<br />
Below is the link for all the references and resources that i have used to build my project:
* [AWS API Reference](https://docs.aws.amazon.com/cdk/api/v2/python/modules.html)
* [AWS Lambda](https://docs.aws.amazon.com/cdk/api/v2/python/aws_cdk.aws_lambda.html)
* [AWS SNS Notifications](https://docs.aws.amazon.com/cdk/api/v2/python/aws_cdk.aws_sns.html)
* [AWS SNS](https://docs.aws.amazon.com/cdk/api/v2/python/aws_cdk.aws_sns.html)
* [AWS Events](https://docs.aws.amazon.com/cdk/api/v2/python/aws_cdk.aws_events.html)

<br />

## AWS services used in this Project

The following AWS services are being used for this project :
1) AWS Lambda 
2) AWS CloudWatch
3) AWS SNS
4) Dynamo DB

## üöÄ About Me
I'm a Software Developer Turning devops enginner
Email :mariambhatti8989@gmail.com
<br />
Thanks for Reading üëç

